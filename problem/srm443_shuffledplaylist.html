<html>
 <head>
  <title>ShuffledPlaylist Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=10486">Problem Statement for ShuffledPlaylist</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>I love music and listen to it all the time. I have a huge amount of songs and often it's easy just to listen to them shuffled rather than to choose a song every time. But I listen to different genres of music and some of them are incompatible (for example, it's quite uncomfortable if some calm classic track is succeeded by a loud noisy song). So I wrote a program which performs the shuffled playback according to some rules. <br /><br /><br /><br /> Speaking formally, I have defined several genres and ascribed each of the songs to one specific genre. I have also defined which genres are compatible, i.e. can be listened to in immediate succession and which are not. The j-th character of the i-th element of String[] <b>transitions</b> is 'Y' if a song of genre i can be succeeded by a song of genre j, and is 'N' otherwise. My program works in the following way: it randomly chooses the first song to play. When the track finishes, the next song is chosen from the set of all songs of compatible genre(s), and so on. The same song may be played several times and it might even happen that the same song is played several times in a row. <br /><br /><br /><br /> You're given String[] <b>songs</b>. Concatenate the elements of <b>songs</b> to obtain a list of the songs. The list will be formatted as a comma-separated list of space-separated pairs of integers, the first of them denoting the genre of the song and the second one denoting its length in minutes. Count the number of different song sequences which might be played using my program and are between <b>minLength</b> and <b>maxLength</b> (both inclusive) minutes long, and return it modulo 600,921,647.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>ShuffledPlaylist</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>count</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>String[], String[], int, int</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>int</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>int count(String[] songs, String[] transitions, int minLength, int maxLength)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>transitions</b> will contain exactly n elements, where n is between 1 and 9, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>transitions</b> will contain exactly n characters.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>transitions</b> will contain only 'N' and 'Y' characters.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>For each i between 0 and n-1, the i-th character of the i-th element of <b>transitions</b> will be 'Y'.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>songs</b> will contain between 1 and 50 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>songs</b> will contain between 1 and 50 characters, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>The concatenation of the elements of <b>songs</b> will be a comma-separated list of space-separated pairs of integers.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>The first integer of each pair will be between 0 and n-1, inclusive, with no extra leading zeroes.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>The second integer of each pair will be between 1 and 9, inclusive, with no leading zeroes.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>minLength</b> will be between 1 and 1,000,000,000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>maxLength</b> will be between <b>minLength</b> and 1,000,000,000, inclusive.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;0 3,1 2,0 2&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;YY&quot;,&quot;YY&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>2</pre></td>
            </tr>
            <tr>
             <td><pre>4</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 7</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">If we enumerate the songs from 0 to 2, then the 7 possible song sequences are: {0},{1},{2},{1,1},{1,2},{2,1},{2,2}. </td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;0 3,1 2,0 2&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;YN&quot;,&quot;NY&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>2</pre></td>
            </tr>
            <tr>
             <td><pre>4</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 5</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">This time, the genres are incompatible, so the sequences {1,2} and {2,1} are not allowed any more. </td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;0 9&quot;,&quot;,1 8,&quot;,&quot;2 3,2 5&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;YYY&quot;,&quot;NYY&quot;,&quot;NNY&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>5</pre></td>
            </tr>
            <tr>
             <td><pre>9</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 7</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">The sequences are: {0},{1},{2,2},{2,2,2},{3},{2,3},{3,2}. </td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;0 8,&quot;,&quot;5 6,2&quot;,&quot; 2,2 3,6 8,5 8,5 3,0 6,0 7,6 5,3 2&quot;,
&quot;,0 9,2 3,3 4,5 4,3 3,3 3,2 8,2 9,5 7,2 8,0 1,5 9,1&quot;,
&quot; 8,2 9,1 6,3 6,2 6,0 4,6 3,1 5,2 7,4 5,3 3,0&quot;,
&quot; 5,6 1,5 6,4 8,5 9,1 4,2 9,5 6,5 6,0 8,3 5,4 6,0 3&quot;,
&quot;,4 2,5 6,6 2,4 3,1 3,6 3,0 8,2 8,3 7,4 2,0 7,0 2,1&quot;,
&quot; 3,4 7,6 3,6 4,3 9,0 2,0 7,0 8,6 4,1 3,2 5,0 6,5 4&quot;,
&quot;,3 2,3 2,1 5,2 1,5 2,4 8,0 5,1&quot;,&quot; &quot;,&quot;7,2 6,5 7&quot;,&quot;,&quot;,
&quot;6 9,5 5,&quot;,&quot;4 2&quot;,&quot;,4&quot;,&quot; 9,0 5,4 8,6 5,5 9,5 8,3 &quot;,&quot;2&quot;,
&quot;,5 &quot;,&quot;6,2 3,0 7,1 7,&quot;,&quot;2 1,0 4&quot;,&quot;,2 9&quot;,&quot;,&quot;,&quot;3&quot;,&quot; &quot;,&quot;4&quot;}
</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;YYYYYYY&quot;,&quot;YYYYYYY&quot;,&quot;YYYYYYY&quot;,&quot;YYYYYYY&quot;,&quot;YYYYYYY&quot;,&quot;YYYYYYY&quot;,&quot;YYYYYYY&quot;}
</pre></td>
            </tr>
            <tr>
             <td><pre>1</pre></td>
            </tr>
            <tr>
             <td><pre>10000</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 348387817</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>