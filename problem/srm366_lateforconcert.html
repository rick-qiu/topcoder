<html>
 <head>
  <title>LateForConcert Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=7827">Problem Statement for LateForConcert</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td><p>You are a guitar player and you are giving a concert tonight. Unfortunately, you are running a bit late, and you still need to travel across town to get to the concert hall. You will drive as fast as possible (above the speed limit) and you are willing to drive through red lights at the risk of getting fined. However, you do not want to arrive early because you don't like the artist playing before you. Your goal is to get to the concert hall exactly on time.</p> <br /><br /> <p>The city is a rectangular grid of squares described by the String[] <b>cityMap</b>. The j-th character of the i-th element of <b>cityMap</b> is the square at row i, column j. Each square is one of the following:<br /><br /> </p>
      <ul> 
       <li><tt>X</tt>: A house. You cannot enter this square.</li> 
       <li><tt>.</tt>: A safe road. You can drive here safely without ever getting a speeding ticket.</li> 
       <li><tt>Y</tt>: Your starting location. After time = 0, this becomes a safe road.</li> 
       <li><tt>C</tt>: The concert hall. As soon as you enter this square, you are at your final destination and you cannot leave.</li> 
       <li><tt>T</tt>: A traffic light. See below for details.</li> 
       <li><tt>S</tt>: A speed trap. You will get fined <b>speedingTicket</b> dollars every time you enter a square containing a speed trap.</li> 
      </ul><p></p> <p>You are given an int <b>timeLeft</b>, the number of seconds you have left until your concert starts. At time 0, you are at your starting location. At the speed you are driving, it takes you exactly one second to move to any of the 4 adjacent squares. At each second, you must move to an adjacent square unless you are at a traffic light. You are never allowed to directly go back to the immediately previous square of your path. If you are currently at a traffic light, you have two options: make a move during the upcoming second (like you would from any other square), or stay at the traffic light for exactly one second before making your next move. If you stay at the traffic light for one second, you are guaranteed to not get fined. Otherwise, you have a 70% chance of getting fined <b>redLight</b> dollars.</p> <br /><br /> <p>Determine the route that will take you to the concert hall in exactly <b>timeLeft</b> seconds. If there are multiple such routes, choose the one that minimizes your total expected fine. Return your total expected fine, or -1 if there is no way to get to the concert hall exactly on time.</p> </td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>LateForConcert</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>bestRoute</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>String[], int, double, double</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>double</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>double bestRoute(String[] cityMap, int timeLeft, double speedingTicket, double redLight)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Notes</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>The returned value must be accurate to within a relative or absolute value of 1E-9.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>cityMap</b> will contain between 1 and 50 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>cityMap</b> will contain between 1 and 50 characters, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>cityMap</b> will contain the same number of characters.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each character of <b>cityMap</b> will be one of the following: '<tt>X</tt>', '<tt>.</tt>', '<tt>Y</tt>', '<tt>C</tt>', '<tt>T</tt>' or '<tt>S</tt>'.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Exactly one character in <b>cityMap</b> will be '<tt>Y</tt>'.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Exactly one character in <b>cityMap</b> will be '<tt>C</tt>'.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>timeLeft</b> will be between 1 and 100, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>speedingTicket</b> will be between 1.0 and 1000.0, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>redLight</b> will be between 1.0 and 1000.0, inclusive.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;XXXXXXXX&quot;,
 &quot;XY...S.X&quot;,
 &quot;XXXXXX.X&quot;,
 &quot;C..S.TT.&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>14</pre></td>
            </tr>
            <tr>
             <td><pre>60</pre></td>
            </tr>
            <tr>
             <td><pre>93</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 185.1</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">If you wait for one of the traffic lights, it will take 14 seconds, and your expected total fine will be <b>speedingTicket</b> + <b>speedingTicket</b> + 0.7 * <b>redLight</b>.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;XX..XX&quot;,
 &quot;Y....C&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>9</pre></td>
            </tr>
            <tr>
             <td><pre>52</pre></td>
            </tr>
            <tr>
             <td><pre>874</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 0.0</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">You can use the 2x2 square to spend your time so you don't have to see the other artist.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;YTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTC&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>67</pre></td>
            </tr>
            <tr>
             <td><pre>123.4</pre></td>
            </tr>
            <tr>
             <td><pre>42.192</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 886.032</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;C.......&quot;,
 &quot;SXXSXXX.&quot;,
 &quot;TSSTY...&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>12</pre></td>
            </tr>
            <tr>
             <td><pre>1.23456789</pre></td>
            </tr>
            <tr>
             <td><pre>123.456789</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 0.0</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">The shortest route is not always the best!</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">4)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;Y..&quot;,
 &quot;...&quot;,
 &quot;..C&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>3</pre></td>
            </tr>
            <tr>
             <td><pre>1.0</pre></td>
            </tr>
            <tr>
             <td><pre>1.0</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: -1.0</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">The concert hall is too far, so you don't have enough time to reach it.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>