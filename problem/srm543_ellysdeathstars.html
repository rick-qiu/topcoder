<html>
 <head>
  <title>EllysDeathStars Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=11904">Problem Statement for EllysDeathStars</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>Princess Elly recently discovered secret plans for building a whole bunch of new death stars. Now she and the rebels are desperately trying to destroy them before they are fully operational.<p></p> They are sending several ships to destroy the death stars. For simplicity, in this problem the battle will take place in a 2D plane. The distances are so large that we will view all death stars and all ships as points in this plane. All death stars are stationary. All ships appear at their starting positions at the same time. Each ship is a point moving at some constant speed along some line segment, however the speeds for different ships may be different. As soon as a ship reaches the end of its segment, it disappears from the battlefield. (This does not necessarily happen at the same time for all the ships.) The rebels know the locations of all death stars. Also, for each ship they know its planned trajectory, its speed, the range of its lasers, and the amount of energy available for shooting them.<p></p> A ship can shoot at a death star if: 
      <ul> 
       <li>The death star is within its range</li> 
       <li>The ship still has energy for its lasers</li> 
      </ul> Unfortunately, some defenses of the death stars are already active and prevent multiple ships from attacking the same death star at the same time. Thus, there is one additional rule: 
      <ul> 
       <li>No other ship is currently attacking the death star</li> 
      </ul> On the other hand, all ships are able to shoot at multiple targets at the same time. Whenever a ship shoots at X targets at the same time, it consumes energy at the rate of X units per second. The ship can start and stop shooting at any target at any time. (The time spent shooting at a particular set of targets does not have to be an integer.)<p></p> You are given a String[] <b>stars</b> whose elements are formatted as &quot;X Y&quot;, where (X, Y) corresponds to the position of one death star on the map. You are also given a String[] <b>ships</b> describing the ships. The i-th element of <b>ships</b> will be formated as &quot;SX SY EX EY S R E&quot;, where (SX, SY) and (EX, EY) give the starting and ending point of the i-th ship, respectively, S is its speed, R is the range of its lasers, and E is its energy.<p></p> The rebels came up with a simple plan: They will shoot the death stars in such a way that the total amount of energy spent on shooting them is maximized. (It is possible that a different amount of energy will be spent on different death stars.) Compute and return the maximum total amount of energy spent by the ships' lasers if the rebels use an optimal shooting strategy.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>EllysDeathStars</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>getMax</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>String[], String[]</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>double</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>double getMax(String[] stars, String[] ships)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Notes</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Your return value must have a relative or an absolute error of less than 1e-9.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>The range of a ship's lasers is given in distance units (the same ones as all coordinates).</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>The speed of a ship is given in distance units per second.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>A ship can have the same starting and ending point. Such ship disappears immediately after appearing on the battlefield.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Multiple death stars can be located at the exact same place. They are still considered to be distinct death stars.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Multiple ships can be located at the exact same place at some moment of time. A ship and a death star can be located at the exact same place at some moment of time. In both cases, no collision happens and each ship just proceeds moving along its defined trajectory.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>stars</b> will contain between 1 and 20 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>stars</b> will contain between 3 and 9 characters, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>stars</b> will be formated as &quot;X Y&quot; - two space-separated integers between 1 and 1000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>ships</b> will contain between 1 and 20 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>ships</b> will contain between 13 and 34 characters, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>ships</b> will be formated as &quot;SX SY EX EY S R E&quot; - seven space-separated integers between 1 and 1000, inclusive.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;2 2&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;1 1 5 3 2 1 2&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 0.894427190999916</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Just a single ship and a single star. The ship has plenty of energy, so it might shoot at the death star the whole time it is in range.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;12 10&quot;, &quot;7 5&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;10 10 12 10 1 1 3&quot;, &quot;6 1 8 10 1 2 3&quot;, &quot;3 6 8 2 5 3 1&quot;, &quot;42 42 42 42 6 6 6&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 4.983770744659944</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Although the first ship has remaining energy, it disappears before it can shoot it all. The last ship disappears right after the beginning.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;5 77&quot;, &quot;60 50&quot;, &quot;10 46&quot;, &quot;22 97&quot;, &quot;87 69&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;42 17 66 11 5 7 13&quot;, &quot;10 10 20 20 3 3 3&quot;, &quot;13 15 18 9 4 1 2&quot;,
 &quot;99 71 63 81 19 4 60&quot;, &quot;27 34 56 43 11 3 12&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 0.0</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Plenty of ships and stars, but no action whatsoever.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;141 393&quot;, &quot;834 847&quot;, &quot;568 43&quot;, &quot;18 228&quot;, &quot;515 794&quot;,
 &quot;167 283&quot;, &quot;849 333&quot;, &quot;719 738&quot;, &quot;434 261&quot;, &quot;613 800&quot;,
 &quot;127 340&quot;, &quot;466 938&quot;, &quot;598 601&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;410 951 472 100 337 226 210&quot;, &quot;713 352 677 908 731 687 300&quot;,
 &quot;191 41 337 92 446 716 213&quot;, &quot;598 889 446 907 148 650 203&quot;,
 &quot;168 556 470 924 344 369 198&quot;, &quot;300 182 350 936 737 533 45&quot;,
 &quot;410 871 488 703 746 631 80&quot;, &quot;270 777 636 539 172 103 56&quot;,
 &quot;466 906 522 98 693 77 309&quot;, &quot;768 698 846 110 14 643 14&quot;,
 &quot;755 724 664 465 263 759 120&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 31.965770956316362</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Random testcase.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>