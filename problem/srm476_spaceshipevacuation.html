<html>
 <head>
  <title>SpaceshipEvacuation Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=10993">Problem Statement for SpaceshipEvacuation</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>Manao is an engineer of a new spaceship. He is responsible for crew safety, particularly during a possible evacuation. The spaceship consists of <b>N</b> units numbered from 0 to <b>N</b>-1. The units are connected by passages, but during evacuation, moving through them is too slow and therefore is prohibited. Some pairs of units are connected by tunnels which contain emergency cabins. There are several emergency cabins at each end of each tunnel. A cabin is designed for a single person and may only be used once for security reasons. A cabin at one end of a tunnel can only be used to reach the other end of that same tunnel. <br /><br /><br /><br /> The tunnel network has a special layout. Consider a sequence of units U<sub>0</sub>, U<sub>1</sub>, ..., U<sub>K</sub> with K &amp;ge 3 and U<sub>0</sub>=U<sub>K</sub>. If all U<sub>0</sub>, U<sub>1</sub>, ..., U<sub>K-1</sub> are pairwise distinct and for each i, 0 &amp;le i &lt; K, U<sub>i</sub> and U<sub>i+1</sub> are connected by a tunnel, this sequence is called a cycle. A cycle is called canonical if U<sub>0</sub> &lt; U<sub>i</sub> for 1 &amp;le i &lt; K and U<sub>1</sub> &lt; U<sub>K-1</sub>. Each unit in the spaceship will be a part of at most one canonical cycle. The tunnel network is given as String[] <b>tunnelNetwork</b>, where each element describes a tunnel and contains four space-separated integers A, B, C, D. This means that there is a tunnel between units A and B and there are C emergency cabins in the tunnel from unit A's side and D emergency cabins from unit B's side. <br /><br /><br /><br /> The crew of the spaceship consists of <b>crewSize</b> members. Each of them might be in any of the <b>N</b> units when the evacuation is announced. Unit 0 is connected to the rescue boat, so every person reaching this unit is considered evacuated. The distribution of emergency cabins within the tunnels is called an evacuation plan. An evacuation plan is called acceptable if there exists a way to evacuate the whole crew for any possible distribution of crew members over the units at the moment when the evacuation is announced. The current evacuation plan might not be acceptable. Manao may demand a number of additional emergency cabins at each end of each tunnel, but he is not allowed to change the location of emergency cabins that are already present in the spaceship. Return the minimum total number of emergency cabins Manao has to add to obtain an acceptable evacuation plan from the current one. If it is impossible, return -1.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>SpaceshipEvacuation</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>additionalCabins</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>int, String[], int</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>int</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>int additionalCabins(int N, String[] tunnelNetwork, int crewSize)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>N</b> will be between 2 and 50, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>tunnelNetwork</b> will contain between 1 and 50 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>tunnelNetwork</b> will contain between 7 and 50 characters, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>tunnelNetwork</b> will be formatted &quot;A B C D&quot; (quotes for clarity), where A, B, C and D are integers formatted without extra leading zeros.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>In each element of <b>tunnelNetwork</b>, A and B will be distinct integers between 0 and <b>N</b>-1, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>In each element of <b>tunnelNetwork</b>, C and D will each be between 0 and 100,000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>The unordered pairs {A,B} in <b>tunnelNetwork</b> will be distinct.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each unit will be a part of at most one canonical cycle.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>crewSize</b> will be between 1 and 100,000, inclusive.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>3</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;0 1 5 3&quot;,
 &quot;2 1 0 0&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>5</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 7</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Adding 2 cabins to the tunnel between units 0 and 1 from unit 1's side and 5 cabins to the tunnel between units 2 and 1 from unit 2's side ensures that wherever the crew members happen to be when evacuation begins, they will be able to reach unit 0.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>3</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;0 1 0 2&quot;,
 &quot;0 2 0 4&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>5</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 4</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">An optimal evacuation scheme can be obtained by adding 3 emergency cabins to the 0-1 tunnel and 1 emergency cabin to the 0-2 tunnel.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>4</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;0 1 0 6&quot;,
 &quot;3 2 3 1&quot;,
 &quot;2 1 0 1&quot;,
 &quot;3 1 2 2&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>6</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 6</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">One of the possible ways to obtain an optimal evacuation scheme is to add 5 cabins to the 1-2 tunnel from unit 2's side and 1 cabin to the 2-3 tunnel from unit 3's side.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>10</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;0 1 11 101&quot;,
 &quot;1 2 0 100&quot;,
 &quot;2 3 20 100&quot;,
 &quot;3 4 0 107&quot;,
 &quot;4 1 66 0&quot;,
 &quot;3 5 104 2&quot;,
 &quot;4 6 82 0&quot;,
 &quot;5 7 25 25&quot;,
 &quot;7 8 14 42&quot;,
 &quot;8 9 0 94&quot;,
 &quot;9 5 17 92&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>110</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 376</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">4)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>3</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;0 1 0 0&quot;}</pre></td>
            </tr>
            <tr>
             <td><pre>1</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: -1</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">The only crew member has no chance if he is in unit 2 at the moment of evacuation.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>