<html>
 <head>
  <title>PostfixRLE Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=6834">Problem Statement for PostfixRLE</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td><p><i>Postfix notation</i> (or <i>reverse Polish notation</i>) is a method for writing down arithmetic expressions without brackets, but still maintaining the order of operations. The postfix notation for an expression consisting of a single variable or number consists only of that variable or number. The postfix notation for an expression &quot;<tt>A#B</tt>&quot; (here <tt>A</tt> and <tt>B</tt> are other expressions and '<tt>#</tt>' is the operator evaluated last in our expression) is obtained by concatenating the postfix notation for <tt>A</tt>, the postfix notation for <tt>B</tt>, and '#'.</p> <p>For example, the postfix notation for &quot;<tt>((a+f)*b)*(c*d)</tt>&quot; is &quot;<tt>af+b*cd**</tt>&quot;. Another way of looking at the postfix notation is that it is a program for a stack calculator. Every variable or number means &quot;push that variable or number on the stack&quot;. Every operator means &quot;pop the two top items from the stack, perform the operation on them, and push the result back on the stack&quot;. For example, when evaluating &quot;<tt>af+b*cd**</tt>&quot;, the stack changes as follows: {<tt>a</tt>}, {<tt>a</tt>,<tt>f</tt>}, {<tt>a+f</tt>}, {<tt>a+f</tt>,<tt>b</tt>}, {<tt>(a+f)*b</tt>}, {<tt>(a+f)*b</tt>,<tt>c</tt>}, {<tt>(a+f)*b</tt>,<tt>c</tt>,<tt>d</tt>}, {<tt>(a+f)*b</tt>,<tt>c*d</tt>}, {<tt>((a+f)*b)*(c*d)</tt>}.</p> <p>You are given an expression in postfix notation, containing only variables and operators. All the operators are binary (take two operands), associative, and commutative. That means for any operator <tt>#</tt>, expressions <tt>A</tt>, <tt>B</tt>, and <tt>C</tt>, the following properties hold: </p>
      <ul>
       <li>Associativity: <tt>A#(B#C)=(A#B)#C</tt>. </li> 
       <li>Commutativity: <tt>A#B=B#A</tt>. </li>
      </ul><p></p> <p>That allows you to rearrange operands corresponding to the same operator. For example, using both rules one could rearrange the expression shown above: </p>
      <ul>
       <li>As expression: &quot;<tt>((a+f)*b)*(c*d)</tt>&quot; can be rearranged to &quot;<tt>d*((a+f)*(b*c))</tt>&quot;.</li> 
       <li>In postfix notation: &quot;<tt>af+b*cd**</tt>&quot; can be rearranged to &quot;<tt>daf+bc***</tt>&quot;.</li>
      </ul><p></p> <p>Your task is to find a postfix expression that can be obtained by rearranging the initial expression using only the associativity and commutativity rules, and having the least RLE-size. The RLE-size of a string is the number of blocks of consecutive equal characters in it (i.e., the RLE-size of &quot;<tt>xx+yy+zz+**</tt>&quot; is 7).</p> <p>The input for this problem is given as a String[] <b>expression</b>. Concatenate all elements of that String[] to get the initial expression in postfix notation. Each variable is denoted by a lowercase letter ('<tt>a</tt>'-'<tt>z</tt>'), and the operators are denoted by characters '<tt>+</tt>', '<tt>*</tt>', '<tt>#</tt>', '<tt>!</tt>', '<tt>@</tt>', '<tt>$</tt>', '<tt>%</tt>' and '<tt>^</tt>'. You are to return the smallest possible RLE-size of a postfix expression that can be obtained from the initial expression by applying some (possibly none) of the above rules.</p></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>PostfixRLE</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>getCompressedSize</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>String[]</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>int</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>int getCompressedSize(String[] expression)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Notes</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>All the quotes in the problem statement are for clarity only.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>expression</b> will contain between 1 and 50 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>expression</b> will contain between 1 and 50 characters, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each character in each element of <b>expression</b> will be a lowercase letter ('<tt>a</tt>'-'<tt>z</tt>'), '<tt>+</tt>', '<tt>*</tt>', '<tt>#</tt>', '<tt>!</tt>', '<tt>@</tt>', '<tt>$</tt>', '<tt>%</tt>' or '<tt>^</tt>'.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>expression</b> will be a valid arithmetic expression in postfix notation.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;af+b*cd**&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 7</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">&quot;<tt>daf+bc***</tt>&quot; is one of the possible best rearrangements.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;xy*x*y*x*y*&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 3</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Yields &quot;<tt>xxxyyy*****</tt>&quot; or &quot;<tt>yyyxxx*****</tt>&quot;.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;abcdefg!@#$%^&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 13</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">No point in changing anything here.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;xy@z@ab@c@yc%%%&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 9</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">4)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;abc++&quot;,
&quot;abc++&quot;,
&quot;abc++&quot;,
&quot;a&quot;,
&quot;b&quot;,
&quot;c&quot;,
&quot;*&quot;,
&quot;*&quot;,
&quot;*&quot;,
&quot;*&quot;,
&quot;*&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 13</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>