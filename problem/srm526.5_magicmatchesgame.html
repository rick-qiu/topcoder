<html>
 <head>
  <title>MagicMatchesGame Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=11676">Problem Statement for MagicMatchesGame</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td><p> Today is the Christmas Eve. People around the world celebrate this holiday. The following story takes place in the land of reindeer, where Santa Claus resides. </p> <br /><br /> <br /><br /> <p> Instead of placing a boring gift into your stocking or underneath your tree, Santa Claus wants to give you an exciting chance to win some Magic Diamonds! </p> <p> The game is played with n envelopes, conveniently numbered 0 through n-1. The content of the envelopes is described by three int[]s: <b>matches</b>, <b>red</b>, and <b>blue</b>. The i-th envelope contains the following stuff: 1 Magic Diamond, <b>matches</b>[i] matches, a card with a red number <b>red</b>[i], and a card with a blue number <b>blue</b>[i]. </p> <br /><br /> <br /><br /> <p> The game proceeds in several steps: </p>
      <ol> 
       <li>You keep some of the envelopes and throw away the others. (You have to keep at least one envelope, you may keep all of them.)</li> 
       <li>You collect all Magic Diamonds and numbered cards from the envelopes you kept.</li> 
       <li>You go and feed Santa's reindeer. This is explained below.</li> 
       <li>Santa throws away some of the envelopes you kept. (He must not throw away all envelopes. He is allowed not to throw away anything.)</li> 
       <li>A game of NIM is played using the matches from the envelopes Santa kept. This is explained below.</li> 
       <li>If you won the game of NIM, you are allowed to keep all Magic Diamonds you collected in step 2.</li> 
      </ol> <p></p> <br /><br /> <br /><br /> <p> Feeding the reindeer works as follows: Let R be the sum of red numbers you collected, and let B be the sum of blue numbers you collected. Santa will mark a rectangular field R meters long and B meters wide. You have to take a shovel and remove all snow from the field so that the reindeer can get to the grass. </p> <br /><br /> <br /><br /> <p> The game of NIM is played as follows: Each of the K envelopes Santa kept is emptied on a separate pile, thus creating K piles of matches. You and Santa then take alternating turns removing matches. You take the first turn. In each turn, the current player picks a nonempty pile of matches and removes an arbitrary positive number of matches from the pile. The player who removes the last matches wins. (In other words, the player who cannot make a valid move loses.) </p> <br /><br /> <br /><br /> <p> Assume that Santa follows the optimal strategy for the entire game and wins whenever he gets the chance. Your primary goal is to win the game and gain as many Magic Diamonds as possible. If there are multiple ways to do so, you prefer the one that minimizes the work you have to do in step 3. That is, you want to minimize the area of the field you'll have to clear. </p> <p> Your method must return the smallest possible area of the field, given that you gained as many Magic Diamonds as possible. </p></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>MagicMatchesGame</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>minimumArea</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>int[], int[], int[]</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>long</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>long minimumArea(int[] matches, int[] red, int[] blue)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Notes</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Note that you can always win the game. In the first turn, you may discard all the envelopes except for one. Santa must keep this envelope. In the game of NIM you then win in the first turn by taking all the matches.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>matches</b> will contain between 1 and 50 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>red</b> and <b>matches</b> will contain the same number of elements.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>blue</b> and <b>matches</b> will contain the same number of elements.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element in <b>matches</b> will be between 1 and 1,000,000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element in <b>red</b> will be between 1 and 10,000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element in <b>blue</b> will be between 1 and 10,000, inclusive.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{1,1}</pre></td>
            </tr>
            <tr>
             <td><pre>{5,6}</pre></td>
            </tr>
            <tr>
             <td><pre>{5,4}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 24</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Now we have 2 envelopes. Note that we can't keep both envelopes, otherwise we can't win the game of NIM. If we keep envelope 0, the area will be 5 * 5 = 25. If we keep envelope 1, the area will be 4 * 6 = 24. So we should return 24.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{1,2,3}</pre></td>
            </tr>
            <tr>
             <td><pre>{4,5,6}</pre></td>
            </tr>
            <tr>
             <td><pre>{9,8,7}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 153</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Here the optimal solution is to keep envelopes 0 and 1. The area is (4 + 5) * (9 + 8) = 153.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{1,2,3,4,5,6,7}</pre></td>
            </tr>
            <tr>
             <td><pre>{20,11,12,23,21,52,65}</pre></td>
            </tr>
            <tr>
             <td><pre>{23,10,31,18,13,10,13}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 2255</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{1037, 2220, 6908, 4179, 4243, 4396, 679, 179, 163, 818, 9767, 5199, 3973, 2065, 8060}</pre></td>
            </tr>
            <tr>
             <td><pre>{724, 123, 178, 262, 628, 981, 882, 814, 752, 495, 906, 904, 265, 329, 470}</pre></td>
            </tr>
            <tr>
             <td><pre>{664, 134, 254, 798, 290, 753, 941, 264, 200, 369, 547, 628, 120, 833, 928}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 42628758</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">4)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{10095, 16913, 10198, 12528, 15264, 19224, 16442, 14595, 12060, 11858, 17900, 19304, 10619, 15818, 11670}</pre></td>
            </tr>
            <tr>
             <td><pre>{9419, 9448, 9722, 9030, 9591, 9451, 9871, 9124, 9012, 9047, 9024, 9984, 9163, 9852, 9203}</pre></td>
            </tr>
            <tr>
             <td><pre>{9706, 9436, 9454, 9585, 9592, 9145, 9356, 9797, 9523, 9032, 9178, 9472, 9594, 9637, 9256}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 17324432487</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Note that the answer can be very large.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">5)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{1000000}</pre></td>
            </tr>
            <tr>
             <td><pre>{10000}</pre></td>
            </tr>
            <tr>
             <td><pre>{10000}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 100000000</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>