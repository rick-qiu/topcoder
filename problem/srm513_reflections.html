<html>
 <head>
  <title>Reflections Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=10998">Problem Statement for Reflections</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>Manao is playing a new game called Reflections. The goal of the game is transferring an artifact in 3-dimensional space from point (0, 0, 0) to point (X, Y, Z). There are two types of moves in the game: <br /><br /><br /><br /> 1) The player can move the artifact by 1 unit in the direction of any coordinate axis. So, using this type of move, from point (a, b, c) the artifact can be moved to points (a + 1, b, c), (a - 1, b, c), (a, b + 1, c), (a, b - 1, c), (a, b, c + 1) or (a, b, c - 1). <br /><br /><br /><br /> 2) The player can reflect the artifact against any one of the given planes. The reflection works as follows: the artifact disappears at its position before the reflection and appears on the other side of the plane at such a place that the line connecting the old and new positions is perpendicular to the plane and the old and new positions are equidistant from the plane. Reflection against each particular plane can be performed at most once during the game. <br /><br /><br /><br /> The planes are given as int[]s <b>mirrorX</b>, <b>mirrorY</b> and <b>mirrorZ</b>. <b>mirrorX[i]</b> corresponds to a plane perpendicular to the X axis with coordinate X = <b>mirrorX[i]</b>. <b>mirrorY</b> and <b>mirrorZ</b> contain planes perpendicular to the Y and Z axis in the same fashion. The target position is given in int[] <b>finalPosition</b>. <b>finalPosition</b> contains 3 elements, where <b>finalPosition[0]</b> is X, <b>finalPosition[1]</b> is Y and <b>finalPosition[2]</b> is Z. <br /><br /><br /><br /> Return the minimum possible number of moves which Manao will need to transfer the artifact.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>Reflections</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>minimumMoves</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>int[], int[], int[], int[]</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>long</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>long minimumMoves(int[] mirrorX, int[] mirrorY, int[] mirrorZ, int[] finalPosition)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>finalPosition</b> will contain exactly 3 elements.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>finalPosition</b> will be between -1,000,000,000 and 1,000,000,000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>mirrorX</b> will contain between 0 and 20 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>mirrorX</b> will be between -1,000,000,000 and 1,000,000,000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>All elements of <b>mirrorX</b> will be distinct.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>mirrorY</b> will contain between 0 and 20 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>mirrorY</b> will be between -1,000,000,000 and 1,000,000,000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>All elements of <b>mirrorY</b> will be distinct.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>mirrorZ</b> will contain between 0 and 20 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>mirrorZ</b> will be between -1,000,000,000 and 1,000,000,000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>All elements of <b>mirrorZ</b> will be distinct.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{2}</pre></td>
            </tr>
            <tr>
             <td><pre>{}</pre></td>
            </tr>
            <tr>
             <td><pre>{}</pre></td>
            </tr>
            <tr>
             <td><pre>{3, 0, 1}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 3</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Manao can reflect the artifact against the only given plane, making it appear at (4, 0, 0). Afterwards, he can transfer it into the target position by two moves of the first type.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{-5, 1, 4, 2, 3, 6, -6}</pre></td>
            </tr>
            <tr>
             <td><pre>{}</pre></td>
            </tr>
            <tr>
             <td><pre>{}</pre></td>
            </tr>
            <tr>
             <td><pre>{9, 0, 0}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 2</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">A possible solution will be moving the artifact to (-1, 0, 0) and then reflecting it against the plane represented by <b>mirrorX[2]</b>.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{5, 8}</pre></td>
            </tr>
            <tr>
             <td><pre>{}</pre></td>
            </tr>
            <tr>
             <td><pre>{}</pre></td>
            </tr>
            <tr>
             <td><pre>{4, 0, 0}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 4</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">If a reflection against a particular plane was allowed more than once, Manao could transfer the artifact in only three moves.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{5}</pre></td>
            </tr>
            <tr>
             <td><pre>{5}</pre></td>
            </tr>
            <tr>
             <td><pre>{1, 2, 3}</pre></td>
            </tr>
            <tr>
             <td><pre>{10, 12, -1}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 5</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">The planes perpendicular to the Z axis are of no use. After performing the reflections against the other two planes, Manao gets the artifact to point (10, 10, 0). Three more moves of the first type are required then.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">4)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{8, -3, 21}</pre></td>
            </tr>
            <tr>
             <td><pre>{4, 5}</pre></td>
            </tr>
            <tr>
             <td><pre>{-7, -2, -1, 7, 14}</pre></td>
            </tr>
            <tr>
             <td><pre>{40, -4, 31}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 10</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>