<html>
 <head>
  <title>GreenWave Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=5920">Problem Statement for GreenWave</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td><p>A new road has been opened. It is <b>L</b> meters long, and it is divided into one-meter sections called positions. There are traffic lights at various positions on the road. If there's a traffic light at position <i>i</i>, it means that a car at position <i>i</i> must wait until the light is green before it can proceed to position <i>i+1</i>. Traffic lights are either red or green, and they change every five seconds.</p> <p>There are some cars waiting to enter into the road. Each car is one meter long, and there can never be more than one car at a single position of the road. Once a car enters the road it cannot overtake other cars. The cars' speeds are given in the int[] <b>speeds</b>, where the i-th element is the speed of the i-th car. Each traffic light starts out red, but the duration of that first red light varies between one and five seconds, inclusive. Then, the five second cycle starts. The initial red light duration may be different for each traffic light.</p> <p>Suppose that the road goes from left to right. The cars move as follows:</p> 
      <ul> 
       <li>Step 1: Each car already in the road (from right to left) tries to move rightward as many positions as its speed indicates, but it can be blocked by another car or a red traffic light (here rightward means increasing its position).<br /><br /> Then, if position 0 of the road is free, the car with the lowest index in <b>speeds</b> that has not yet entered the road enters at position 0, without moving.<br /><br /> This step takes one second.</li> 
       <li>Step 2: The traffic lights are updated, if necessary. This step takes no time.</li> 
       <li>Step 3: If all the cars have left the road, stop, otherwise go to Step 1.</li> 
      </ul> <p>You are given <b>L</b>, the road length, <b>speeds</b>, the speed of each car, and <b>lights</b>, the position of each traffic light. Determine the duration of the first red light for each traffic light that minimizes the total time it takes for all the cars to leave the road (that is, the number of seconds elapsed until the last car leaves the road). Return a int[], where the i-th element is the duration of the first red light of the i-th traffic light. If two solutions give the same time, return the one that comes first lexicographically.</p></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>GreenWave</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>getFirstRed</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>int, int[], int[]</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>int[]</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>int[] getFirstRed(int L, int[] speeds, int[] lights)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Notes</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>When a car leaves the road (by moving past the rightmost position on the road), it can no longer block the other cars.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Solution <tt>A</tt> comes earlier than <tt>B</tt> lexicographically if <tt>A</tt> has a lower value than <tt>B</tt> in the first position at which they differ.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>L</b> will be between 1 and 500, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>speeds</b> will contain between 0 and 10 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>speeds</b> will be between 1 and 30, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>lights</b> will contain between 0 and 5 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>lights</b> will be between 0 and <b>L</b>-2, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>All the elements of <b>lights</b> will be distinct.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>10</pre></td>
            </tr>
            <tr>
             <td><pre>{1}</pre></td>
            </tr>
            <tr>
             <td><pre>{0}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: {1 }</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Second 1: There are initially no cars in the road. Since position 0 is unoccupied, the car is able to enter the road.<br /><br /> Second 2: The traffic light has just turned green. The car can move right to position 1.<br /><br /> Second 10: The car moves from position 8 to position 9 (the last position on the road).<br /><br /> Second 11: The car leaves the road.<br /><br /></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>50</pre></td>
            </tr>
            <tr>
             <td><pre>{1}</pre></td>
            </tr>
            <tr>
             <td><pre>{4, 5, 6, 7, 8}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: {1, 2, 3, 4, 5 }</pre></td>
        </tr>
        <tr>
         <td></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>300</pre></td>
            </tr>
            <tr>
             <td><pre>{2, 1}</pre></td>
            </tr>
            <tr>
             <td><pre>{16}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: {4 }</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">When the duration of the first red light is 4 seconds, neither car will ever be blocked by a red light.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>300</pre></td>
            </tr>
            <tr>
             <td><pre>{1, 2}</pre></td>
            </tr>
            <tr>
             <td><pre>{16}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: {3 }</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Although the second car has to wait for the traffic light for one second, it is fast enough to catch up with the first one.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">4)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>60</pre></td>
            </tr>
            <tr>
             <td><pre>{12, 15, 20}</pre></td>
            </tr>
            <tr>
             <td><pre>{58}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: {1 }</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Remember that once a car leaves the road, it no longer blocks the other cars.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">5)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>340</pre></td>
            </tr>
            <tr>
             <td><pre>{16, 15, 29, 7, 9, 15, 2}</pre></td>
            </tr>
            <tr>
             <td><pre>{125, 156, 274, 309, 211}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: {5, 1, 1, 1, 1 }</pre></td>
        </tr>
        <tr>
         <td></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">6)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>494</pre></td>
            </tr>
            <tr>
             <td><pre>{11, 7, 11, 6}</pre></td>
            </tr>
            <tr>
             <td><pre>{438, 251}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: {3, 1 }</pre></td>
        </tr>
        <tr>
         <td></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>