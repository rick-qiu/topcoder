<html>
 <head>
  <title>TimeTravellingTour Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=10782">Problem Statement for TimeTravellingTour</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td><i>NOTE: This problem statement contains images that may not display properly if viewed outside of the applet.</i> <br /><br /> <br /><br /> There is a kingdom with <b>N</b> cities numbered 0 through <b>N</b>-1. Gogo wants to survey several cities in the kingdom. These cities are described in int[] <b>cities</b> containing M elements. He wishes to survey city <b>cities</b>[0], city <b>cities</b>[1], ..., city <b>cities</b>[M-1] in this exact order (i.e., before surveying city <b>cities</b>[i], he must have finished surveying cities <b>cities</b>[0], ..., <b>cities</b>[i-1] in this order). He starts at city 0 and can end at any city. He may only survey a city when he's inside the city. There are several bidirectional roads, each connecting two different cities and costing some amount of money to traverse. Note that he may wish to survey the same city multiple times. <br /><br /> <br /><br /> Gogo also has a time machine. He can use the time machine to go back in time, without affecting which cities he is considered to have already surveyed. For example, suppose he has visited cities A, B, C, D, and E, in that order, and is currently in city E. He can use the time machine to go back to city A, B, C, or D. Suppose he chooses to go back to city C. At that point, he can then go back further to city A or B, but he cannot use the time machine to go forward to city D or E. Note that if he had surveyed city E, going back in time will not change the fact that he is considered to have already surveyed city E. <br /><br /> <br /><br /> You are given the roads in the String[] <b>roads</b>. Concatenate the elements of <b>roads</b>, in order, to get a single space-separated list of roads. Each road will be formatted &quot;a,b,travelcost&quot; (quotes for clarity), which means that the bidirectional road connects city a and city b, and costs travelcost to traverse. <br /><br /> <br /><br /> He can use the time machine any number of times, and it costs nothing to use it. Return the minimum cost required to survey all cities from <b>cities</b> in the given order. Return -1 if it is impossible to survey them all.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>TimeTravellingTour</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>determineCost</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>int, int[], String[]</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>long</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>long determineCost(int N, int[] cities, String[] roads)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Notes</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Surveying a city does not incur any cost.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>N</b> will be between 2 and 50, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>cities</b> will contain between 1 and 50 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>cities</b> will be between 0 and <b>N</b>-1, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>No two consecutive elements in <b>cities</b> will be identical.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>cities</b>[0] will not be 0.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>roads</b> will contain between 1 and 50 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>roads</b> will contain between 1 and 50 characters, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each character in <b>roads</b> will be '0'-'9', ' ', or ','.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>roads</b> will be formatted as described in the problem statement without leading or trailing spaces.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>All integers in the concatenation of all the elements of <b>roads</b> in the order they are given will have no leading zeroes.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>In each road, a and b as described in the problem statement will be different and will each be between 0 and <b>N</b>-1, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>In each road, travelcost as described in the problem statement will be between 1 and 10,000,000, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>For each two different cities, there will be at most one road connecting them.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>5</pre></td>
            </tr>
            <tr>
             <td><pre>{2,3,2,4}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;0,2,4 0,1,2 2,1,2 1,3,3 4,0,4&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 13</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"><img src="http://www.topcoder.com/contest/problem/TimeTravellingTour/tour1.png" /> <br /><br /> Travel from city 0 to city 1 to city 2. Survey city 2. Go back in time to city 1. Travel from city 1 to city 3. Survey city 3. Go back in time to city 1. Travel from city 1 to city 2. Survey city 2. Go back in time to city 0. Travel from city 0 to city 4. Survey city 4. The total cost is 2+2+3+2+4=13.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>3</pre></td>
            </tr>
            <tr>
             <td><pre>{1,0,1}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;0,2,1&quot;,&quot; 2&quot;,&quot;,1,5&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 12</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"><img src="http://www.topcoder.com/contest/problem/TimeTravellingTour/tour2q.png" /> <br /><br /> Travel from city 0 to city 2 to city 1. Survey city 1. Go back in time to city 0. Survey city 0. Travel from city 0 to city 2 to city 1. Survey city 1.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>3</pre></td>
            </tr>
            <tr>
             <td><pre>{2}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;0,1,2&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: -1</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"><img src="http://www.topcoder.com/contest/problem/TimeTravellingTour/tour3.png" /> <br /><br /> It is not possible to reach city 2.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>6</pre></td>
            </tr>
            <tr>
             <td><pre>{4, 1, 3, 2}</pre></td>
            </tr>
            <tr>
             <td><pre>{&quot;0,1,5 0,2,5 0,5,2 2,3,5 2,4,2 3,4,4 3,5,1&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 19</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"><img src="http://www.topcoder.com/contest/problem/TimeTravellingTour/tour4.png" /> <br /><br /> <br /><br /> Travel from city 0 to city 2 to city 4. Survey city 4. Travel from city 4 to city 3 to city 5 to city 0 to city 1. Survey city 1. Go back in time to city 3. Survey city 3. Go back in time to city 2. Survey city 2. The total cost is 5+2+4+1+2+5=19</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>