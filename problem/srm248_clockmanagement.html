<html>
 <head>
  <title>ClockManagement Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=4612">Problem Statement for ClockManagement</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>In basketball it is very important to consider how much time is left in the game, especially near the end of the game. In this problem, we will consider two teams, A and B, in a game with <b>time</b> seconds left, where neither team has any way to stop the clock (time outs). To keep things simple, we will ignore three point shots and fouls, and only consider regular baskets, which score 2 points. <br /><br /><br /><br /> In the game, the two teams take turns trying to score baskets. After one team attempts to score a basket and fails, that team may get the <i>rebound</i> and attempt to score again. Otherwise, if a team successfully scores or fails to get the rebound, the other team gets the ball. An attempt to score always involves some set up time where players get into position and pass the ball and things like that. The amount of time that a team takes to set up influences the probability that its shot attempt will be successful. If a team attempts to score and gets its own rebound, the setup starts over. To prevent teams from simply holding the ball until the end of the game when they are winning, the team with the ball must attempt to score within a certain timeframe (this is known as the shot clock, and is reset if a team attempts to score and rebounds).<br /><br /><br /><br /> In this problem, the probabilities of team A scoring are given by <b>percentageA</b>. Element i of <b>percentageA</b> indicates the probability (as a percentage) that a shot will score after i+2 seconds of setup. Due to the shot clock, team A must shoot after a number of seconds corresponding to an element of <b>percentageA</b>. Also, the probabilities that team A will rebound the ball after shooting and failing to score are given by <b>reboundA</b>, where element i corresponds to i+2 seconds of setup. Finally, <b>scoreA</b> indicates team A's current score. The parameters for team B are analogous.<br /><br /><br /><br /> Given the inputs as described above, the fact that team A has just gained possession of the ball, and the assumption that A plays optimally to win, while B plays optimally to prevent A from winning, you should compute the probability that team A wins the game (ties don't count). </td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>ClockManagement</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>winProbability</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>int[], int[], int[], int[], int, int, int</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>double</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>double winProbability(int[] percentageA, int[] percentageB, int[] reboundA, int[] reboundB, int time, int scoreA, int scoreB)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Notes</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>In this problem, teams may not attempt to score with less than 2 seconds of setup time.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Time is treated discretely in this problem.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Your return must have error less than 1E-9.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>percentageA</b>, <b>percentageB</b>, <b>reboundA</b>, and <b>reboundB</b> will each contain between 1 and 50 elements, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>percentageA</b>, <b>percentageB</b>, <b>reboundA</b>, and <b>reboundB</b> will all contain the same number of elements.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Each element of <b>percentageA</b>, <b>percentageB</b>, <b>reboundA</b>, and <b>reboundB</b> will be between 0 and 100, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>scoreA</b> and <b>scoreB</b> will be between 0 and 100, inclusive.</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>time</b> will be between 1 and 300, inclusive.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{10,20,30,40}</pre></td>
            </tr>
            <tr>
             <td><pre>{10,20,30,40}</pre></td>
            </tr>
            <tr>
             <td><pre>{1,2,3,4}</pre></td>
            </tr>
            <tr>
             <td><pre>{1,2,3,4}</pre></td>
            </tr>
            <tr>
             <td><pre>5</pre></td>
            </tr>
            <tr>
             <td><pre>99</pre></td>
            </tr>
            <tr>
             <td><pre>100</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 0.4</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">Trailing by only 1 point, the best strategy is to set up as long as possible (5 seconds), and then attempt to score right at the end of a game, making two points with a probability of 40%.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{10,20,30,40}</pre></td>
            </tr>
            <tr>
             <td><pre>{10,20,30,40}</pre></td>
            </tr>
            <tr>
             <td><pre>{1,2,3,4}</pre></td>
            </tr>
            <tr>
             <td><pre>{1,2,3,4}</pre></td>
            </tr>
            <tr>
             <td><pre>5</pre></td>
            </tr>
            <tr>
             <td><pre>98</pre></td>
            </tr>
            <tr>
             <td><pre>100</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 0.0</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">There is no way to win here; the best you can do is score 2 points and tie it up, after which team B will wait until the end of the game.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{10,20,30,40}</pre></td>
            </tr>
            <tr>
             <td><pre>{10,20,30,40}</pre></td>
            </tr>
            <tr>
             <td><pre>{1,2,3,4}</pre></td>
            </tr>
            <tr>
             <td><pre>{1,2,3,4}</pre></td>
            </tr>
            <tr>
             <td><pre>10</pre></td>
            </tr>
            <tr>
             <td><pre>98</pre></td>
            </tr>
            <tr>
             <td><pre>100</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 0.011519999999999997</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">The best strategy here is to set up for 2 or 3 seconds (it doesn't matter which) and then attempt to score. If you succeed, team B will set up for 5 seconds and then attempt to score. Assuming that B fails to score and fails to get the rebound, you will then have 2 or 3 seconds to set up and score again. The probability of things working out like this is 0.1*0.6*0.96*0.2 = 0.01152.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{100}</pre></td>
            </tr>
            <tr>
             <td><pre>{100}</pre></td>
            </tr>
            <tr>
             <td><pre>{100}</pre></td>
            </tr>
            <tr>
             <td><pre>{100}</pre></td>
            </tr>
            <tr>
             <td><pre>31</pre></td>
            </tr>
            <tr>
             <td><pre>65</pre></td>
            </tr>
            <tr>
             <td><pre>66</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 1.0</pre></td>
        </tr>
        <tr>
         <td></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>