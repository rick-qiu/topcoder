<html>
 <head>
  <title>BinaryQuipu Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=2239">Problem Statement for BinaryQuipu</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td><p> <i> <b>Warning</b>: Embedded in this problem statement are images that may not be visible if you are using a plugin. For best results, view this problem in the standard Arena editor. </i> </p><p> &quot;To heck with this quipu!&quot; exclaimed Tupac the Incan philosopher. He was trying to record the contents of his household using the knot language of Peru, but the rules were too complicated. Who besides a tax collector could keep track of all the fixed knots, transient knots, and rhetorical knots? </p><p> After some thought, Tupac contrived a simpler scheme that would encode each inventory item on a length of string using a sequence of square knots and bow knots. For one particular collection of four items, he tied the following four strings, where 's' stands for a square knot and 'b' for a bow knot: {&quot;bsb&quot;, &quot;bbs&quot;, &quot;sbbs&quot;, &quot;sbs&quot;}. </p><p> This took 13 knots. Tupac now gathered the strings into a quipu by tying them at one end with a top knot, making a grand total of 14 knots. The result of his efforts is depicted in the following image, where the bow knots are colored blue; the square knots, red; and the top knot, black. </p><p> </p>
      <center>
       <img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_dreads.gif" />
      </center> <p></p><p> &quot;The top knot is important,&quot; explained Tupac to his wife, Cuxi, &quot;because it shows me where to start reading each item.&quot; </p><p> &quot;Let me see that,&quot; said Cuxi, reaching for the quipu. &quot;I can record the same four items using fewer knots.&quot; </p><p> Once Cuxi had cut off some parts of the quipu and reknotted a few others, it emerged like so. </p><p> </p>
      <center>
       <img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_full.gif" />
      </center> <p></p><p> Her husband goggled at this feat. &quot;Three knots fewer!&quot; he cried. &quot;And it encodes exactly the same inventory!&quot; </p><p> Tupac saw that if he began from the top knot and followed a path through the quipu from left to right until the end of a string, he could spell out any inventory item, but nothing that wasn't in the inventory. This was an improvement over the original quipu, in which he sometimes found himself reading the wrong item and therefore having to backtrack to the top knot. </p><p> &quot;I can do better yet,&quot; said Cuxi, &quot;if I join some strings at the other end of the quipu. Watch this.&quot; After some more cutting and reknotting, she produced the following configuration. </p><p> </p>
      <center>
       <img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_compressed.gif" />
      </center> <p></p><p> Cuxi stated emphatically that you weren't supposed to pursue a looping path through the quipu. &quot;Follow the grain of the string from beginning to end,&quot; she said, &quot;and make sure you don't double back. The quipu only works in one direction.&quot; </p><p> She also pointed out that the paths were deterministic: at every knot where the quipu bifurcated, there was a choice of two different knots. This guaranteed that any inventory item could be found without backtracking or pursuing several paths at once. </p><p> Tupac was pleased to confirm that Cuxi's abbreviated quipu was functionally equivalent to the original. He could begin reading from the top knot and proceed strictly from left to right through the knots, following one of four distinct paths that spelled out exactly the items of the inventory. </p><p> &quot;I can't make it any smaller,&quot; said Cuxi, &quot;but a quipu with eight knots is an improvement over the original fourteen. So I'm pretty good. I'm only worried about cases where one item in the inventory is a prefix of another.&quot; </p><p> &quot;There will never be such a case,&quot; said Tupac. &quot;As it happens, my inventory encoding has the property that no item can be a prefix of another.&quot; </p><p> You are given a String[] describing a collection of inventory items encoded under Tupac's system. Calculate the smallest number of knots, including the top knot, that must be tied to make a deterministic binary quipu for this inventory. </p> </td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>BinaryQuipu</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>fewestKnots</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>String[]</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>int</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>int fewestKnots(String[] inventory)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Notes</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>Since Tupac's encoding precludes any inventory where one item is a prefix of another, there will be no duplicates.</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>inventory</b> contains between 1 and 50 elements, inclusive</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>each element of <b>inventory</b> is between 1 and 50 characters long, inclusive</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>no element of <b>inventory</b> is a prefix of any other element</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>each character in every element of <b>inventory</b> is either 's' or 'b'</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;bsb&quot;, &quot;bbs&quot;, &quot;sbbs&quot;, &quot;sbs&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 8</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">This is the example shown above.</td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;s&quot;, &quot;b&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 3</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">
              <center>
               <img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_case01.gif" />
              </center></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;bs&quot;, &quot;sb&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 5</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">
              <center>
               <img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_case02.gif" />
              </center></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;bs&quot;, &quot;sb&quot;, &quot;bb&quot;, &quot;ss&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 5</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">
              <center>
               <img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_case03.gif" />
              </center></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">4)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;bssbs&quot;, &quot;ssbs&quot;, &quot;sbb&quot;, &quot;bbs&quot;, &quot;sbs&quot;, &quot;ssbb&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 10</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2">
              <center>
               <img src="http://www.topcoder.com/contest/problem/BinaryQuipu/trie_case04.gif" />
              </center></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">5)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;bbbsssbbsbbssbbbbs&quot;,
&quot;bssssbbbbsbbsbbbbbbsbbsbsssbbbsbbbbbsbbssbsb&quot;,
&quot;sbbbbbsbbbsbsssbssssbssbbsssssssbbssss&quot;,
&quot;sbbbbbsbsbssbssbsssbsbbsbssbsbbbsbsbs&quot;,
&quot;bsbbbbbssbsbbbbsbbs&quot;,
&quot;bbsbbsbsssbsbbsbbssbbbsbsssbsbbsbsbssbsbsssbsbsbs&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 181</pre></td>
        </tr>
        <tr>
         <td></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>