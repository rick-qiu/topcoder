<html>
 <head>
  <title>SquareCode Problem Statement</title>
 </head>
 <body>
  <table>
   <tbody>
    <tr>
     <td colspan="2"><h3><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=2303">Problem Statement for SquareCode</a></h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td><p> When Bob learned that he was to be sent abroad to work on an oil rig, he resolved that he would write regularly to his girlfriend. </p><p> &quot;We'll have to encrypt our correspondence,&quot; he told Alice, &quot;so that my tender feelings remain unknown to the rest of the crew.&quot; </p><p> Alice showed Bob a simple kind of text encryption that makes use of a square cardboard grille divided into equal-sized cells, exactly one quarter of which are punched out to make holes. For example, a six-by-six grille might be configured as follows, where '.' stands for a hole and 'X' for a cell that has been left intact. </p><pre>

               XXXXXX
               .XXXX.
               X.XX..
               XXX.XX
               X.XXXX
               XX.XX.
</pre><p> To encrypt a message, Bob begins writing plaintext into the grille, one character per hole, proceeding from left to right within each row and running through the rows from top to bottom. Once all holes are filled, he rotates the grille ninety degrees clockwise, and continues the message where he left off. After two more quarter turns, he has written a full square of coded text, and must begin a new one. Upon receipt of the message, Alice uses an identical grille to decrypt each square. If, for example, Bob's plaintext were &quot;supercalifragilisticexpialadociously&quot;, Alice would receive the following code. </p><pre>

               idocfc
               sriaeu
               gpxoer
               piicau
               laslla
               iylsti
</pre><p> Not just any grille will do for this purpose, as Bob discovered when he tried to make one by cutting out holes at random. He found that this haphazard grille wouldn't let him write out a full square of text in the prescribed manner. After fewer than four quarter-turns, some holes revealed previously written characters. Alice assured him that this was a grave flaw. An encoding grille must permit one to fill the entire square by making three quarter-turns, and it must show each cell of the square exactly once. Bob, alas, had a lyrical soul and not a mathematical one. He could not perceive the properties that make a grille suitable for use with this encryption technique. Can you? </p><p> You are given a String[] describing a grille row by row, in the style shown above, with no more than a quarter of its holes punched out. If it is not possible to make a complete and valid encoding grille from this configuration by punching out zero or more additional holes, then return an empty String[]. Otherwise, punch out the necessary holes in the upper-left quadrant to make a complete and valid grille, and return it in the same format as the input. </p> </td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Definition</h3></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>Class:</td>
         <td>SquareCode</td>
        </tr>
        <tr>
         <td>Method:</td>
         <td>completeIt</td>
        </tr>
        <tr>
         <td>Parameters:</td>
         <td>String[]</td>
        </tr>
        <tr>
         <td>Returns:</td>
         <td>String[]</td>
        </tr>
        <tr>
         <td>Method signature:</td>
         <td>String[] completeIt(String[] grille)</td>
        </tr>
        <tr>
         <td colspan="2">(be sure your method is public)</td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
     <td></td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Constraints</h3></td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>grille</b> contains between 2 and 50 elements, inclusive</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td><b>grille</b> contains an even number of elements</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>if <b>grille</b> contains exactly <i>n</i> elements, then every element of <b>grille</b> consists of <i>n</i> characters</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>every character in <b>grille</b> is either '.' or 'X'</td>
    </tr>
    <tr>
     <td align="center" valign="top">-</td>
     <td>no more than one quarter of the characters in <b>grille</b> are '.'</td>
    </tr>
    <tr>
     <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
     <td colspan="2"><h3>Examples</h3></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">0)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;XX..&quot;,
 &quot;XX.X&quot;,
 &quot;.XXX&quot;,
 &quot;XXXX&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: { &quot;XX..&quot;,  &quot;XX.X&quot;,  &quot;.XXX&quot;,  &quot;XXXX&quot; }</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"><p> No additional holes are punched: </p> <pre>
{&quot;XX..&quot;,
 &quot;XX.X&quot;,
 &quot;.XXX&quot;,
 &quot;XXXX&quot; }
</pre> <p> This was already a good grille. </p></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">1)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;XXX.&quot;,
 &quot;XX.X&quot;,
 &quot;.XXX&quot;,
 &quot;XXXX&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: { &quot;XXX.&quot;,  &quot;.X.X&quot;,  &quot;.XXX&quot;,  &quot;XXXX&quot; }</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"><p> One additional hole is punched: </p> <pre>

{&quot;XXX.&quot;,
 &quot;.X.X&quot;,
 &quot;.XXX&quot;,
 &quot;XXXX&quot;}
</pre> <p> The grille could have been completed by punching a hole in one of four locations. We chose the leftmost, topmost one. </p></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">2)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;XXX.&quot;,
 &quot;XX.X&quot;,
 &quot;.X.X&quot;,
 &quot;XXXX&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: { }</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"><p> An empty String[] is returned: </p> <pre>

{}
</pre> <p> The given grille reveals the same character location more than once. </p></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">3)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;XXXXXX&quot;,
 &quot;XXXXX.&quot;,
 &quot;XXXX..&quot;,
 &quot;XXX.XX&quot;,
 &quot;X.XXXX&quot;,
 &quot;XX.XX.&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: { &quot;XXXXXX&quot;,  &quot;.XXXX.&quot;,  &quot;X.XX..&quot;,  &quot;XXX.XX&quot;,  &quot;X.XXXX&quot;,  &quot;XX.XX.&quot; }</pre></td>
        </tr>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td colspan="2"><p> Two additional holes are punched: </p> <pre>

{&quot;XXXXXX&quot;,
 &quot;.XXXX.&quot;,
 &quot;X.XX..&quot;,
 &quot;XXX.XX&quot;,
 &quot;X.XXXX&quot;,
 &quot;XX.XX.&quot; }
</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">4)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;XXX.XX&quot;,
 &quot;.XXXX.&quot;,
 &quot;X.XXX.&quot;,
 &quot;XXX.XX&quot;,
 &quot;X.XXXX&quot;,
 &quot;XX.XX.&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: { }</pre></td>
        </tr>
        <tr>
         <td></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
    <tr>
     <td align="center" nowrap="true">5)</td>
     <td></td>
    </tr>
    <tr>
     <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
     <td>
      <table>
       <tbody>
        <tr>
         <td>
          <table>
           <tbody>
            <tr>
             <td><pre>{&quot;XXXXX.XX&quot;,
 &quot;XXXX.XXX&quot;,
 &quot;XXX..X.X&quot;,
 &quot;.XXXXXXX&quot;,
 &quot;XXXXXXXX&quot;,
 &quot;XXXXXXXX&quot;,
 &quot;X.XXXXXX&quot;,
 &quot;XXXXXXXX&quot;}</pre></td>
            </tr>
           </tbody>
          </table></td>
        </tr>
        <tr>
         <td><pre>Returns: 
{ &quot;....X.XX&quot;,
 &quot;.XX..XXX&quot;,
 &quot;X....X.X&quot;,
 &quot;.XX.XXXX&quot;,
 &quot;XXXXXXXX&quot;,
 &quot;XXXXXXXX&quot;,
 &quot;X.XXXXXX&quot;,
 &quot;XXXXXXXX&quot; }</pre></td>
        </tr>
        <tr>
         <td></td>
        </tr>
       </tbody>
      </table></td>
    </tr>
   </tbody>
  </table>
 </body>
</html>